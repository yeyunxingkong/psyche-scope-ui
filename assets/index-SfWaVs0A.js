(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))o(l);new MutationObserver(l=>{for(const s of l)if(s.type==="childList")for(const r of s.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&o(r)}).observe(document,{childList:!0,subtree:!0});function n(l){const s={};return l.integrity&&(s.integrity=l.integrity),l.referrerPolicy&&(s.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?s.credentials="include":l.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function o(l){if(l.ep)return;l.ep=!0;const s=n(l);fetch(l.href,s)}})();const f={wallet:25e6,debt:3e6,days:30,debtRate:"15%/æ—¥",version:"v5.4",target:"MIYUKI_01"},b={bpm:72,temp:"36.6Â°C",state:"CALM (Focusing)"},y={zone:"Z05 å¤©å®ˆé˜è¡Œæ”¿åŒº (Central)",warn:"Safety Level: High (School Zone)",building:"åœ£æµ·ä¼¦å¨œå­¦é™¢ - è‰ºæœ¯æ¥¼",room:"3F / ç¬¬å››ç”»å®¤ (A53ç­)",audioText:"[Pencil Sketching]... [Soft Humming]...",audioVoice:"Miyuki: 'The light is good today...'"},w={libido:15,stress:25,fatigue:10},h={surface:["ä»Šå¤©çš„å¤©æ°”çœ‹èµ·æ¥ä¸é”™â€¦â€¦","æ˜¨æ™šåƒçš„ç”œå“å‘³é“å¾ˆæ£’å‘¢ã€‚","å””â€¦â€¦"],deep:["æœŸå¾…ä¸Šå­¦çš„æ—¥å­å‘¢â€¦â€¦","å­¦é•¿ä¼¼ä¹æ˜¯ä¸ªå¾ˆå¥½çš„äººã€‚","å””ï¼Œ{{user}}è¿˜æ²¡åˆ°ä¹ˆï¼Ÿ"],shame:5,pleasure:0},k={wetLevel:"Level 0 (Drenched)",wetPercent:10,wetNote:"æ­£å¸¸çš„æ¹¿æ¶¦ç¨‹åº¦ï¼Œå› ç•¥å¾®æœŸå¾…è€Œäº›è®¸å¢åŠ åˆ†æ³Œé‡ã€‚",semenVol:"0 ml (Trace)",semenSrc:"Unknown / Mixed",analVol:"0 ml (Clean)",lastEjacTime:"N/A",residueNote:"æ£€æµ‹åˆ°å¾®é‡æ®‹ç•™å¯èƒ½æºè‡ªå…¬ç”¨è®¾æ–½æˆ–æ¥è§¦ä¼ é€’ï¼Œå»ºè®®è¿›ä¸€æ­¥æ ¸æŸ¥ã€‚"},$={upper:{deepThroat:{level:0,label:"Lv. 0 (Choking)"},nippleSensitivity:{level:0,label:"Lv. 0 (Hyper)"},lactationRisk:"Low (5%)"},lower:{vaginalCapacity:{level:0,label:"Lv. 0 (Tight)"},analAdaptation:{level:0,label:"Lv. 0 (Virgin)"},sphincterState:"Spasmodic (ç´§å¼ é—­åˆ)"}},L={kiss:{count:0,unknown:1},paizuri:{count:0,unknown:1},anal:{count:0,unknown:1},sex:{count:0,unknown:1},cheat:{count:0,unknown:1},touch:{count:0,unknown:1},oral:{count:0,label:"Practice"},orgasm:{count:0,today:0}},I={kiss:"Unknown / Sleep State",virginity:"Intact (Active)",analVirginity:"Intact",firstOrgasm:"Self (Masturbation)"},E=[{id:"Object A",desc:"Round Hairbrush (Handle)"},{id:"Person B",desc:"Masseur (Hand Contact)"},{id:"Person C",desc:"Protagonist (Arm/Head)"}],u={meta:f,basic:b,track:y,metrics:w,mind:h,body:k,dev:$,stats:L,firsts:I,recentContacts:E},i={wallet:u.meta.wallet,gameData:{...u},unlockedItems:new Set};function C(e){i.wallet+=e,document.getElementById("walletDisplay").textContent=i.wallet}function D(e){return i.unlockedItems.has(e)}function S(e){i.unlockedItems.add(e)}const M=[{title:"ç›´è‚ å†…å£æ•æ„Ÿåº¦",val:"High (Level 4)",price:1800,icon:"ğŸ©"},{title:"è´¹æ´›è’™æˆåˆ†åˆ†æ",val:"Estrogen Spike (è¯±äºº)",price:3600,icon:"ğŸ§ª"},{title:"æ¢¦å¢ƒè„‘æ³¢è§£æ",val:"Subject: Player (NTR Nightmare)",price:4500,icon:"ğŸ§ "},{title:"çš®è‚¤è§¦è§‰æ˜ å°„",val:"Hyper-Sensitive (å…¨èº«)",price:2400,icon:"âœ‹"},{title:"å†…è£¤å¸ƒæ–™é¥±å’Œåº¦",val:"98% (Dripping)",price:1200,icon:"ğŸ‘™"}],v={aiPool:M};function m(e){document.querySelectorAll(".tab-btn").forEach(a=>a.classList.remove("active")),document.querySelector(`[data-tab="${e}"]`).classList.add("active"),document.querySelectorAll(".module-section").forEach(a=>a.classList.remove("active")),document.getElementById("module-"+e).classList.add("active")}function p(e,a){if(!D(e))if(i.wallet>=a){C(-a),S(e);const n=document.getElementById("lock-"+e);n&&(n.style.opacity="0",setTimeout(()=>{n.classList.add("unlocked"),n.style.display="none"},500)),console.log(`è§£é”æˆåŠŸ: -${a} CR`)}else T(`ä½™é¢ä¸è¶³ï¼<br>éœ€è¦ ${a} CR`)}function T(e){document.getElementById("modalMsg").innerHTML=e,document.getElementById("modal").classList.add("show")}function A(){document.getElementById("modal").classList.remove("show")}function g(){const e=v.aiPool[Math.floor(Math.random()*v.aiPool.length)],a="ai-"+Date.now(),n=`
    <div class="data-block" style="animation: fadeIn 0.5s;">
      <div class="micro-lock" id="lock-${a}">
        <span class="lock-icon">${e.icon}</span>
        <div class="lock-title">AI æ¨æµ‹: ${e.title}</div>
        <button class="buy-btn" data-lock="${a}" data-cost="${e.price}">ä¸‹è½½ (${e.price} CR)</button>
      </div>
      <div class="data-row">
        <span>${e.title}</span>
        <span class="data-value val-gold">${e.val}</span>
      </div>
      <div style="font-size:10px; color:#aaa;">From: DeepLearning_Model_v9.2</div>
    </div>
  `;document.getElementById("ai-content-container").insertAdjacentHTML("beforeend",n)}function t(e,a,n=""){const o=document.getElementById(e);o&&(o.textContent=a,n&&(o.className=`data-value ${n}`))}function c(e,a,n){const o=document.getElementById(e);o&&(o.style.width=`${a}%`,o.setAttribute("data-percent",`${a}%`),n&&(o.className=`bar-fill ${n}`))}function B(){H(),P(),N(),x(),R(),U(),O(),V(),j(),z(),document.getElementById("walletDisplay").textContent=i.wallet}function H(){const{basic:e}=i.gameData;t("val-bpm",e.bpm,"val-blue"),t("val-temp",e.temp),t("val-state",e.state,"val-blue")}function P(){const{track:e}=i.gameData;t("val-zone",e.zone),t("val-zone-warn",e.warn),t("val-building",e.building),t("val-room",e.room),t("val-audio-text",e.audioText),t("val-audio-voice",e.audioVoice)}function N(){const{metrics:e}=i.gameData,a=d(e.libido);t("val-libido",`${e.libido}% (${a})`,"val-purple"),c("bar-libido",e.libido,"bar-dev");const n=d(e.stress);t("val-stress",`${e.stress}% (${n})`,"val-gold"),c("bar-stress",e.stress,"");const o=d(e.fatigue);t("val-fatigue",`${e.fatigue}% (${o})`,"val-blue"),c("bar-fatigue",e.fatigue,"bar-wet")}function d(e){return e>80?"CRITICAL":e>50?"High":e<20?"Low":"Normal"}function x(){const{mind:e}=i.gameData,a=document.getElementById("surface-thoughts");a&&(a.innerHTML=e.surface.map(o=>`<div class="thought-bubble">"${o}"</div>`).join(""));const n=document.getElementById("deep-thoughts");n&&(n.innerHTML=e.deep.map(o=>`<div class="thought-bubble deep-thought">"${o}"</div>`).join("")),t("val-shame",`${e.shame}% (MAX)`,"val-red"),c("bar-shame",e.shame,""),t("val-pleasure",`${e.pleasure}% (Rising)`,"val-gold"),c("bar-pleasure",e.pleasure,"")}function R(){const{body:e}=i.gameData;t("val-wet-level",e.wetLevel),c("bar-wet",e.wetPercent,"bar-wet"),t("val-wet-note","> "+e.wetNote),t("val-semen-vol",e.semenVol,"val-grey"),t("val-semen-src",e.semenSrc,"val-grey"),t("val-anal-vol",e.analVol,"val-grey"),t("val-ejac-time",e.lastEjacTime),t("val-residue-note","* æ³¨ï¼š"+e.residueNote)}function U(){const{dev:e}=i.gameData;t("val-deep-throat",e.upper.deepThroat.label,"val-purple"),c("bar-deep-throat",e.upper.deepThroat.level,"bar-dev"),t("val-nipple",e.upper.nippleSensitivity.label,"val-red"),c("bar-nipple",e.upper.nippleSensitivity.level,"bar-dev"),t("val-lactation",e.upper.lactationRisk,"val-gold"),t("val-vaginal",e.lower.vaginalCapacity.label,"val-blue"),c("bar-vaginal",e.lower.vaginalCapacity.level,"bar-dev"),t("val-anal-adapt",e.lower.analAdaptation.label,"val-grey"),c("bar-anal",e.lower.analAdaptation.level,"bar-dev"),t("val-sphincter",e.lower.sphincterState)}function O(){const{stats:e}=i.gameData;t("val-kiss",`${e.kiss.count} (Unknown: ${e.kiss.unknown})`),t("val-paizuri",`${e.paizuri.count} (Unknown: ${e.paizuri.unknown})`),t("val-anal-count",`${e.anal.count} (Unknown: ${e.anal.unknown})`),t("val-sex",`${e.sex.count} (Unknown: ${e.sex.unknown})`),t("val-cheat",`${e.cheat.count} (Unknown: ${e.cheat.unknown})`),t("val-touch",`${e.touch.count} (Unknown: ${e.touch.unknown})`),t("val-oral",`${e.oral.count} (${e.oral.label})`,"val-purple"),t("val-orgasm",`${e.orgasm.count} (Today: +${e.orgasm.today})`,"val-red")}function V(){const{firsts:e}=i.gameData;t("val-first-kiss",e.kiss,"val-grey"),t("val-virginity",e.virginity,"val-gold"),t("val-anal-v",e.analVirginity,"val-gold"),t("val-first-orgasm",e.firstOrgasm)}function j(){const{recentContacts:e}=i.gameData,a=document.getElementById("recent-contacts");a&&(a.innerHTML=e.map(n=>`<div class="data-row"><span>${n.id}</span> <span class="data-value">${n.desc}</span></div>`).join(""))}function z(){document.querySelectorAll(".tab-btn").forEach(e=>{e.addEventListener("click",()=>m(e.dataset.tab))}),document.addEventListener("click",e=>{if(e.target.classList.contains("buy-btn")){const a=e.target.dataset.lock,n=parseInt(e.target.dataset.cost,10);a&&n&&p(a,n)}}),document.querySelector(".ai-placeholder")?.addEventListener("click",g),document.getElementById("modalClose")?.addEventListener("click",A)}window.switchTab=m;window.unlockItem=p;window.generateAIContent=g;document.addEventListener("DOMContentLoaded",B);
